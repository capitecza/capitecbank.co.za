/*!matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license*//*!NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part*//*! Respond.js v1.1.0b: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs
(function(a){function w(){t(true)}function x(){var a=navigator.userAgent,b=-1;var c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(c.exec(a)!=null)b=parseFloat(RegExp.$1);return window!=window.top&&b>=9}a.respond={};respond.update=function(){};respond.mediaQueriesSupported=a.matchMedia&&a.matchMedia("only all").matches;if(respond.mediaQueriesSupported&&!x()){return}var b=a.document,c=b.documentElement,d=[],e=[],f=[],g={},h=30,i=b.getElementsByTagName("head")[0]||c,j=b.getElementsByTagName("base")[0],k=i.getElementsByTagName("link"),l=[],m=function(){var b=k,c=b.length,d=0,e,f,h,i;for(;d<c;d++){e=b[d],f=e.href,h=e.media,i=e.rel&&e.rel.toLowerCase()==="stylesheet";if(!!f&&i&&!g[f]){if(e.styleSheet&&e.styleSheet.rawCssText){o(e.styleSheet.rawCssText,f,h);g[f]=true}else{if(!/^([a-zA-Z:]*\/\/)/.test(f)&&!j||f.replace(RegExp.$1,"").split("/")[0]===a.location.host){l.push({href:f,media:h})}}}}n()},n=function(){if(l.length){var a=l.shift();u(a.href,function(b){o(b,a.href,a.media);g[a.href]=true;n()})}},o=function(a,b,c){var f=a.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),g=f&&f.length||0,b=b.substring(0,b.lastIndexOf("/")),h=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3")},i=!g&&c,j=0,k,l,m,n,o;if(b.length){b+="/"}if(i){g=1}for(;j<g;j++){k=0;if(i){l=c;e.push(h(a))}else{l=f[j].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;e.push(RegExp.$2&&h(RegExp.$2))}n=l.split(",");o=n.length;for(;k<o;k++){m=n[k];d.push({media:m.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:e.length-1,hasquery:m.indexOf("(")>-1,minw:m.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:m.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}t()},p,q,r=function(){var a,d=b.createElement("div"),e=b.body,f=false;d.style.cssText="position:absolute;font-size:1em;width:1em";if(!e){e=f=b.createElement("body");e.style.background="none"}e.appendChild(d);c.insertBefore(e,c.firstChild);a=d.offsetWidth;if(f){c.removeChild(e)}else{e.removeChild(d)}a=s=parseFloat(a);return a},s,t=function(a){var g="clientWidth",j=c[g],l=b.compatMode==="CSS1Compat"&&j||b.body[g]||j,m={},n=k[k.length-1],o=(new Date).getTime();if(a&&p&&o-p<h){clearTimeout(q);q=setTimeout(t,h);return}else{p=o}for(var u in d){var v=d[u],w=v.minw,x=v.maxw,y=w===null,z=x===null,A="em";if(!!w){w=parseFloat(w)*(w.indexOf(A)>-1?s||r():1)}if(!!x){x=parseFloat(x)*(x.indexOf(A)>-1?s||r():1)}if(!v.hasquery||(!y||!z)&&(y||l>=w)&&(z||l<=x)){if(!m[v.media]){m[v.media]=[]}m[v.media].push(e[v.rules])}}for(var u in f){if(f[u]&&f[u].parentNode===i){i.removeChild(f[u])}}for(var u in m){var B=b.createElement("style"),C=m[u].join("\n");B.type="text/css";B.media=u;i.insertBefore(B,n.nextSibling);if(B.styleSheet){B.styleSheet.cssText=C}else{B.appendChild(b.createTextNode(C))}f.push(B)}},u=function(a,b){var c=v();if(!c){return}c.open("GET",a,true);c.onreadystatechange=function(){if(c.readyState!=4||c.status!=200&&c.status!=304){return}b(c.responseText)};if(c.readyState==4){return}c.send(null)},v=function(){var a=false;try{a=new XMLHttpRequest}catch(b){a=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return a}}();m();respond.update=m;if(a.addEventListener){a.addEventListener("resize",w,false)}else if(a.attachEvent){a.attachEvent("onresize",w)}})(this)
*//*!matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas. Dual MIT/BSD license*//*!NOTE: If you're already including a window.matchMedia polyfill via Modernizr or otherwise, you don't need this part*/window.matchMedia=window.matchMedia||(function(e,f){var c,a=e.documentElement,b=a.firstElementChild||a.firstChild,d=e.createElement("body"),g=e.createElement("div");g.id="mq-test-1";g.style.cssText="position:absolute;top:-100em";d.style.background="none";d.appendChild(g);return function(h){g.innerHTML='&shy;<style media="'+h+'"> #mq-test-1 { width: 42px; }</style>';a.insertBefore(d,b);c=g.offsetWidth==42;a.removeChild(d);return{matches:c,media:h}}})(document);/*!Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs*/(function(e){e.respond={};respond.update=function(){};respond.mediaQueriesSupported=e.matchMedia&&e.matchMedia("only all").matches;if(respond.mediaQueriesSupported){return}var w=e.document,s=w.documentElement,i=[],k=[],q=[],o={},h=30,f=w.getElementsByTagName("head")[0]||s,g=w.getElementsByTagName("base")[0],b=f.getElementsByTagName("link"),d=[],a=function(){var D=b,y=D.length,B=0,A,z,C,x;for(;B<y;B++){A=D[B],z=A.href,C=A.media,x=A.rel&&A.rel.toLowerCase()==="stylesheet";if(!!z&&x&&!o[z]){if(A.styleSheet&&A.styleSheet.rawCssText){m(A.styleSheet.rawCssText,z,C);o[z]=true}else{if((!/^([a-zA-Z:]*\/\/)/.test(z)&&!g)||z.replace(RegExp.$1,"").split("/")[0]===e.location.host){d.push({href:z,media:C})}}}}u()},u=function(){if(d.length){var x=d.shift();n(x.href,function(y){m(y,x.href,x.media);o[x.href]=true;u()})}},m=function(I,x,z){var G=I.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),J=G&&G.length||0,x=x.substring(0,x.lastIndexOf("/")),y=function(K){return K.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+x+"$2$3")},A=!J&&z,D=0,C,E,F,B,H;if(x.length){x+="/"}if(A){J=1}for(;D<J;D++){C=0;if(A){E=z;k.push(y(I))}else{E=G[D].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1;k.push(RegExp.$2&&y(RegExp.$2))}B=E.split(",");H=B.length;for(;C<H;C++){F=B[C];i.push({media:F.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:k.length-1,hasquery:F.indexOf("(")>-1,minw:F.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:F.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}}j()},l,r,v=function(){var z,A=w.createElement("div"),x=w.body,y=false;A.style.cssText="position:absolute;font-size:1em;width:1em";if(!x){x=y=w.createElement("body");x.style.background="none"}x.appendChild(A);s.insertBefore(x,s.firstChild);z=A.offsetWidth;if(y){s.removeChild(x)}else{x.removeChild(A)}z=p=parseFloat(z);return z},p,j=function(I){var x="clientWidth",B=s[x],H=w.compatMode==="CSS1Compat"&&B||w.body[x]||B,D={},G=b[b.length-1],z=(new Date()).getTime();if(I&&l&&z-l<h){clearTimeout(r);r=setTimeout(j,h);return}else{l=z}for(var E in i){var K=i[E],C=K.minw,J=K.maxw,A=C===null,L=J===null,y="em";if(!!C){C=parseFloat(C)*(C.indexOf(y)>-1?(p||v()):1)}if(!!J){J=parseFloat(J)*(J.indexOf(y)>-1?(p||v()):1)}if(!K.hasquery||(!A||!L)&&(A||H>=C)&&(L||H<=J)){if(!D[K.media]){D[K.media]=[]}D[K.media].push(k[K.rules])}}for(var E in q){if(q[E]&&q[E].parentNode===f){f.removeChild(q[E])}}for(var E in D){var M=w.createElement("style"),F=D[E].join("\n");M.type="text/css";M.media=E;f.insertBefore(M,G.nextSibling);if(M.styleSheet){M.styleSheet.cssText=F}else{M.appendChild(w.createTextNode(F))}q.push(M)}},n=function(x,z){var y=c();if(!y){return}y.open("GET",x,true);y.onreadystatechange=function(){if(y.readyState!=4||y.status!=200&&y.status!=304){return}z(y.responseText)};if(y.readyState==4){return}y.send(null)},c=(function(){var x=false;try{x=new XMLHttpRequest()}catch(y){x=new ActiveXObject("Microsoft.XMLHTTP")}return function(){return x}})();a();respond.update=a;function t(){j(true)}if(e.addEventListener){e.addEventListener("resize",t,false)}else{if(e.attachEvent){e.attachEvent("onresize",t)}}})(this);window.Modernizr=(function(A,c,g){var I="2.6.2",w={},y=true,L=c.documentElement,a="modernizr",H=c.createElement(a),E=H.style,K=c.createElement("input"),C=":)",b={}.toString,j=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",F=h.split(" "),J=h.toLowerCase().split(" "),l={},p={},f={},e=[],k=e.slice,s,n=function(U,W,O,V){var N,T,Q,R,M=c.createElement("div"),S=c.body,P=S||c.createElement("body");if(parseInt(O,10)){while(O--){Q=c.createElement("div");Q.id=V?V[O]:a+(O+1);M.appendChild(Q)}}N=["&#173;",'<style id="s',a,'">',U,"</style>"].join("");M.id=a;(S?M:P).innerHTML+=N;P.appendChild(M);if(!S){P.style.background="";P.style.overflow="hidden";R=L.style.overflow;L.style.overflow="hidden";L.appendChild(P)}T=W(M,U);if(!S){P.parentNode.removeChild(P);L.style.overflow=R}else{M.parentNode.removeChild(M)}return!!T},G=function(O){var N=A.matchMedia||A.msMatchMedia;if(N){return N(O).matches}var M;n("@media "+O+" { #"+a+" { position: absolute; } }",function(P){M=(A.getComputedStyle?getComputedStyle(P,null):P.currentStyle)["position"]=="absolute"});return M},o=(function(){var N={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function M(O,Q){Q=Q||c.createElement(N[O]||"div");O="on"+O;var P=O in Q;if(!P){if(!Q.setAttribute){Q=c.createElement("div")}if(Q.setAttribute&&Q.removeAttribute){Q.setAttribute(O,"");P=r(Q[O],"function");if(!r(Q[O],"undefined")){Q[O]=g}Q.removeAttribute(O)}}Q=null;return P}return M})(),i=({}).hasOwnProperty,x;if(!r(i,"undefined")&&!r(i.call,"undefined")){x=function(M,N){return i.call(M,N)}}else{x=function(M,N){return((N in M)&&r(M.constructor.prototype[N],"undefined"))}}if(!Function.prototype.bind){Function.prototype.bind=function d(O){var P=this;if(typeof P!="function"){throw new TypeError()}var M=k.call(arguments,1),N=function(){if(this instanceof N){var S=function(){};S.prototype=P.prototype;var R=new S();var Q=P.apply(R,M.concat(k.call(arguments)));if(Object(Q)===Q){return Q}return R}else{return P.apply(O,M.concat(k.call(arguments)))}};return N}}function D(M){E.cssText=M}function u(N,M){return D(j.join(N+";")+(M||""))}function r(N,M){return typeof N===M}function t(N,M){return!!~(""+N).indexOf(M)}function z(O,M){for(var N in O){var P=O[N];if(!t(P,"-")&&E[P]!==g){return M=="pfx"?P:true}}return false}function q(N,Q,P){for(var M in N){var O=Q[N[M]];if(O!==g){if(P===false){return N[M]}if(r(O,"function")){return O.bind(P||Q)}return O}}return false}function m(Q,M,P){var N=Q.charAt(0).toUpperCase()+Q.slice(1),O=(Q+" "+F.join(N+" ")+N).split(" ");if(r(M,"string")||r(M,"undefined")){return z(O,M)}else{O=(Q+" "+(J).join(N+" ")+N).split(" ");return q(O,M,P)}}l.touch=function(){var M;if(("ontouchstart"in A)||A.DocumentTouch&&c instanceof DocumentTouch){M=true}else{n(["@media (",j.join("touch-enabled),("),a,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(N){M=N.offsetTop===9})}return M};l.history=function(){return!!(A.history&&history.pushState)};l.draganddrop=function(){var M=c.createElement("div");return("draggable"in M)||("ondragstart"in M&&"ondrop"in M)};l.borderradius=function(){return m("borderRadius")};l.boxshadow=function(){return m("boxShadow")};l.opacity=function(){u("opacity:.55");return(/^0.55$/).test(E.opacity)};l.cssanimations=function(){return m("animationName")};l.csstransforms=function(){return!!m("transform")};l.csstransforms3d=function(){var M=!!m("perspective");if(M&&"webkitPerspective"in L.style){n("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(N,O){M=N.offsetLeft===9&&N.offsetHeight===3})}return M};l.csstransitions=function(){return m("transition")};l.fontface=function(){var M;n('@font-face {font-family:"font";src:url("https://")}',function(Q,R){var P=c.getElementById("smodernizr"),N=P.sheet||P.styleSheet,O=N?(N.cssRules&&N.cssRules[0]?N.cssRules[0].cssText:N.cssText||""):"";M=/src/i.test(O)&&O.indexOf(R.split(" ")[0])===0});return M};l.video=function(){var N=c.createElement("video"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");M.h264=N.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");M.webm=N.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(O){}return M};l.audio=function(){var N=c.createElement("audio"),M=false;try{if(M=!!N.canPlayType){M=new Boolean(M);M.ogg=N.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");M.mp3=N.canPlayType("audio/mpeg;").replace(/^no$/,"");M.wav=N.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");M.m4a=(N.canPlayType("audio/x-m4a;")||N.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(O){}return M};l.localstorage=function(){try{localStorage.setItem(a,a);localStorage.removeItem(a);return true}catch(M){return false}};l.sessionstorage=function(){try{sessionStorage.setItem(a,a);sessionStorage.removeItem(a);return true}catch(M){return false}};l.applicationcache=function(){return!!A.applicationCache};function B(){w.input=(function(O){for(var N=0,M=O.length;N<M;N++){f[O[N]]=!!(O[N]in K)}if(f.list){f.list=!!(c.createElement("datalist")&&A.HTMLDataListElement)}return f})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));w.inputtypes=(function(P){for(var O=0,N,R,Q,M=P.length;O<M;O++){K.setAttribute("type",R=P[O]);N=K.type!=="text";if(N){K.value=C;K.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(R)&&K.style.WebkitAppearance!==g){L.appendChild(K);Q=c.defaultView;N=Q.getComputedStyle&&Q.getComputedStyle(K,null).WebkitAppearance!=="textfield"&&(K.offsetHeight!==0);L.removeChild(K)}else{if(/^(search|tel)$/.test(R)){}else{if(/^(url|email)$/.test(R)){N=K.checkValidity&&K.checkValidity()===false}else{N=K.value!=C}}}}p[P[O]]=!!N}return p})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var v in l){if(x(l,v)){s=v.toLowerCase();w[s]=l[v]();e.push((w[s]?"":"no-")+s)}}w.input||B();w.addTest=function(N,O){if(typeof N=="object"){for(var M in N){if(x(N,M)){w.addTest(M,N[M])}}}else{N=N.toLowerCase();if(w[N]!==g){return w}O=typeof O=="function"?O():O;if(typeof y!=="undefined"&&y){L.className+=" "+(O?"":"no-")+N}w[N]=O}return w};D("");H=K=null;(function(V,X){var P=V.html5||{};var S=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;var N=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;var ab;var T="_html5shiv";var M=0;var Z={};var Q;(function(){try{var ae=X.createElement("a");ae.innerHTML="<xyz></xyz>";ab=("hidden"in ae);Q=ae.childNodes.length==1||(function(){(X.createElement)("a");var ag=X.createDocumentFragment();return(typeof ag.cloneNode=="undefined"||typeof ag.createDocumentFragment=="undefined"||typeof ag.createElement=="undefined")}())}catch(af){ab=true;Q=true}}());function R(ae,ag){var ah=ae.createElement("p"),af=ae.getElementsByTagName("head")[0]||ae.documentElement;ah.innerHTML="x<style>"+ag+"</style>";return af.insertBefore(ah.lastChild,af.firstChild)}function W(){var ae=U.elements;return typeof ae=="string"?ae.split(" "):ae}function aa(ae){var af=Z[ae[T]];if(!af){af={};M++;ae[T]=M;Z[M]=af}return af}function Y(ah,ae,ag){if(!ae){ae=X}if(Q){return ae.createElement(ah)}if(!ag){ag=aa(ae)}var af;if(ag.cache[ah]){af=ag.cache[ah].cloneNode()}else{if(N.test(ah)){af=(ag.cache[ah]=ag.createElem(ah)).cloneNode()}else{af=ag.createElem(ah)}}return af.canHaveChildren&&!S.test(ah)?ag.frag.appendChild(af):af}function ac(ag,ai){if(!ag){ag=X}if(Q){return ag.createDocumentFragment()}ai=ai||aa(ag);var aj=ai.frag.cloneNode(),ah=0,af=W(),ae=af.length;for(;ah<ae;ah++){aj.createElement(af[ah])}return aj}function ad(ae,af){if(!af.cache){af.cache={};af.createElem=ae.createElement;af.createFrag=ae.createDocumentFragment;af.frag=af.createFrag()}ae.createElement=function(ag){if(!U.shivMethods){return af.createElem(ag)}return Y(ag,ae,af)};ae.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+W().join().replace(/\w+/g,function(ag){af.createElem(ag);af.frag.createElement(ag);return'c("'+ag+'")'})+");return n}")(U,af.frag)}function O(ae){if(!ae){ae=X}var af=aa(ae);if(U.shivCSS&&!ab&&!af.hasCSS){af.hasCSS=!!R(ae,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")}if(!Q){ad(ae,af)}return ae}var U={elements:P.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:(P.shivCSS!==false),supportsUnknownElements:Q,shivMethods:(P.shivMethods!==false),type:"default",shivDocument:O,createElement:Y,createDocumentFragment:ac};V.html5=U;O(X)}(this,c));w._version=I;w._prefixes=j;w._domPrefixes=J;w._cssomPrefixes=F;w.mq=G;w.hasEvent=o;w.testProp=function(M){return z([M])};w.testAllProps=m;w.testStyles=n;L.className=L.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(y?" js "+e.join(" "):"");return w})(this,this.document);(function(ad,ac,ab){function aa(b){return"[object Function]"==P.call(b)}function Z(b){return"string"==typeof b}function Y(){}function X(b){return!b||"loaded"==b||"complete"==b||"uninitialized"==b}function W(){var b=O.shift();M=1,b?b.t?R(function(){("c"==b.t?L.injectCss:L.injectJs)(b.s,0,b.a,b.x,b.e,1)},0):(b(),W()):M=0}function V(w,v,t,s,q,p,n){function m(a){if(!g&&X(h.readyState)&&(x.r=g=1,!M&&W(),h.onload=h.onreadystatechange=null,a)){"img"!=w&&R(function(){I.removeChild(h)},50);for(var c in D[v]){D[v].hasOwnProperty(c)&&D[v][c].onload()}}}var n=n||L.errorTimeout,h=ac.createElement(w),g=0,b=0,x={t:t,s:v,e:q,a:p,x:n};1===D[v]&&(b=1,D[v]=[]),"object"==w?h.data=v:(h.src=v,h.type=w),h.width=h.height="0",h.onerror=h.onload=h.onreadystatechange=function(){m.call(this,b)},O.splice(s,0,x),"img"!=w&&(b||2===D[v]?(I.insertBefore(h,J?null:Q),R(m,n)):D[v].push(h))}function U(g,e,j,i,h){return M=0,e=e||"j",Z(g)?V("c"==e?G:H,g,e,this.i++,j,i,h):(O.splice(this.i++,0,g),1==O.length&&W()),this}function T(){var b=L;return b.loader={load:U,i:0},b}var S=ac.documentElement,R=ad.setTimeout,Q=ac.getElementsByTagName("script")[0],P={}.toString,O=[],M=0,K="MozAppearance"in S.style,J=K&&!!ac.createRange().compareNode,I=J?S:Q.parentNode,S=ad.opera&&"[object Opera]"==P.call(ad.opera),S=!!ac.attachEvent&&!S,H=K?"object":S?"script":"img",G=S?"script":H,F=Array.isArray||function(b){return"[object Array]"==P.call(b)},E=[],D={},C={timeout:function(d,c){return c.length&&(d.timeout=c[0]),d}},N,L;L=function(e){function c(i){var i=i.split("!"),h=E.length,q=i.pop(),p=i.length,q={url:q,origUrl:q,prefixes:i},o,l,j;for(l=0;l<p;l++){j=i[l].split("="),(o=C[j.shift()])&&(q=o(q,j))}for(l=0;l<h;l++){q=E[l](q)}return q}function n(b,s,r,q,p){var o=c(b),l=o.autoCallback;o.url.split(".").pop().split("?").shift(),o.bypass||(s&&(s=aa(s)?s:s[b]||s[q]||s[b.split("/").pop().split("?")[0]]),o.instead?o.instead(b,s,r,q,p):(D[o.url]?o.noexec=!0:D[o.url]=1,r.load(o.url,o.forceCSS||!o.forceJS&&"css"==o.url.split(".").pop().split("?").shift()?"c":ab,o.noexec,o.attrs,o.timeout),(aa(s)||aa(l))&&r.load(function(){T(),s&&s(o.origUrl,p,q),l&&l(o.origUrl,p,q),D[o.url]=2})))}function m(w,v){function u(b,h){if(b){if(Z(b)){h||(r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}),n(b,r,v,0,t)}else{if(Object(b)===b){for(g in o=function(){var a=0,i;for(i in b){b.hasOwnProperty(i)&&a++}return a}(),b){b.hasOwnProperty(g)&&(!h&&!--o&&(aa(r)?r=function(){var i=[].slice.call(arguments);q.apply(this,i),p()}:r[g]=function(i){return function(){var a=[].slice.call(arguments);i&&i.apply(this,a),p()}}(q[g])),n(b[g],r,v,g,t))}}}}else{!h&&p()}}var t=!!w.test,s=w.load||w.both,r=w.callback||Y,q=r,p=w.complete||Y,o,g;u(t?w.yep:w.nope,!!s),s&&u(s)}var k,f,d=this.yepnope.loader;if(Z(e)){n(e,0,d,0)}else{if(F(e)){for(k=0;k<e.length;k++){f=e[k],Z(f)?n(f,0,d,0):F(f)?L(f):Object(f)===f&&m(f,d)}}else{Object(e)===e&&m(e,d)}}},L.addPrefix=function(d,c){C[d]=c},L.addFilter=function(b){E.push(b)},L.errorTimeout=10000,null==ac.readyState&&ac.addEventListener&&(ac.readyState="loading",ac.addEventListener("DOMContentLoaded",N=function(){ac.removeEventListener("DOMContentLoaded",N,0),ac.readyState="complete"},0)),ad.yepnope=T(),ad.yepnope.executeStack=W,ad.yepnope.injectJs=function(r,q,p,n,m,h){var g=ac.createElement("script"),f,b,n=n||L.errorTimeout;g.src=r;for(b in p){g.setAttribute(b,p[b])}q=h?W:q||Y,g.onreadystatechange=g.onload=function(){!f&&X(g.readyState)&&(f=1,q(),g.onload=g.onreadystatechange=null)},R(function(){f||(f=1,q(1))},n),m?g.onload():Q.parentNode.insertBefore(g,Q)},ad.yepnope.injectCss=function(b,n,m,l,k,h){var l=ac.createElement("link"),f,n=h?W:n||Y;l.href=b,l.rel="stylesheet",l.type="text/css";for(f in m){l.setAttribute(f,m[f])}k||(Q.parentNode.insertBefore(l,Q),R(n,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};$(document).ready(function(){$('.ie8 .mobileFooterLinks .searchOverlay').hide();$(".mBlocksEntry h3").each(function(index){var checkmBlocksLength=$(this).text().length;if(checkmBlocksLength>30){$(".mBlocksWrapper").addClass("mBlocksWrapperFullWidth");console.log(checkmBlocksLength)}});try{$('input[name="term"]').autocomplete({source:searchAutoCompleteTerms,select:function(event,ui){$('input[name="term"]').val(ui.item.label);$('form[name="searchForm"]').submit();}});}
catch(e){}
$('.mainSearch a, #footerSection5Heading').click(function(){$('.siteWrapper .siteHeader').toggleClass('siteActiveSearch');$('.siteWrapper .siteContent').toggleClass('siteActiveSearch');$('.mobileFooterLinks .searchOverlay').hide();$('.mobileFooterLinks').toggle();$('.siteFooter').toggleClass('siteFooterActiveSearch');$('.bodyBackgroundDefault').toggleClass('activeBackgroundSearch');$('html, body').animate({scrollTop:$('html').offset().top},0);setTimeout(function(){$('.mobileFooterLinks .searchOverlay').fadeIn();$('input[name="term"]').focus();},200);return false;});if(navigator.userAgent.match(/iPad/i)){$('.isotopeContainer .quadrupleColumn.global-one .globalOneCircularContent .globalOneCircularContentItem').click(function(){console.log('no click')
return false;});$('.isotopeContainer .quadrupleColumn.global-one .globalOneCircularContent .globalOneCircularContentItem span').click(function(){var globalLink=$(this).parent().attr('href')
console.log(globalLink)
window.location.href=globalLink;});}
if($.browser.mozilla){$("body").addClass("browserFF");}
if(!$('.isotopeContainer').length){$('.sliderList').fadeIn();$('.rangeSlider').fadeIn();}
$('.searchCloseWindow').click(function(){$('.siteWrapper .siteHeader').removeClass('siteActiveSearch');$('.siteWrapper .siteContent').removeClass('siteActiveSearch');$('.mobileFooterLinks').fadeOut();$('.mobileFooterLinks .searchOverlay').fadeOut();$('.bodyBackgroundDefault').removeClass('activeBackgroundSearch');setTimeout(function(){$('.siteFooter').removeClass('siteFooterActiveSearch');},500);return false;});$('body').addClass('js-enabled');if(Modernizr.touch){$('body').addClass('touch');}else{$('body').addClass('noTouch');}
$('.noTouch .navMore').hover(function(){$('.secondaryNav').fadeOut('fast');$('.siteHeader > ul').fadeOut('fast');$('.primaryNav').fadeOut('fast');},function(){$('.secondaryNav').fadeIn('fast');$('.siteHeader > ul').fadeIn('fast');$('.primaryNav').fadeIn('fast');});$(".globalOneLandingPage .collectionSlider ul li").click(function(){window.location.href=$(this).find('a').attr('href');console.log("test")});$(".globalOneLandingPage .collectionSlider ul li").click(function(){if($(".dynamicGlobalOneItem a").text()==="Ways to Transact"&&$(".dynamicGlobalOneItem a").parent().prev().find('a').text()==="Ways to Transact"){$(".dynamicGlobalOneItem a").parent().prev().find('a').parent().parent().hide();}});$(".globalonecircularcontenWebsitetDesktop").click(function(){$(".mainSearch a").trigger('click');return false;})
$('.galleryInfoOverlay').click(function(){var clickedElement=this;var url='/gallery/overlay?uri='+encodeURIComponent($(this).attr('data-galleryuri'));$('#galleryOverlay').load(url,function(){var imagePosition=parseInt($(clickedElement).attr('data-imageposition'));$('#galleryOverlay div ul').css('left',-imagePosition*gallerywidth);loadImageFromDataCache('galleryImage_'+imagePosition);setTimeout(function(){loadImageFromDataCache('galleryImage_'+(imagePosition-1));loadImageFromDataCache('galleryImage_'+(imagePosition+1));},1500);if(!imagePosition)$('#galleryOverlay .prev').hide();if(-imagePosition*gallerywidth>(gallerycontainer-gallerywidth))$("#galleryOverlay .next").hide();$('#galleryOverlay').fadeIn();});$('.siteContent').css('z-index','10000001');return false;});$('#myInfoSubTextRemove').on('click',function(){$(this).hide();$('#myInfoSubTextDone').show();$(".myInfo ul li").addClass("sideInfoEdit");$(".additionalInfoRemove").show();});$('#myInfoSubTextDone').on('click',function(){$(this).hide();$('#myInfoSubTextRemove').show();$(".myInfo ul li").removeClass("sideInfoEdit");$(".additionalInfoRemove").hide();});$('.myInfo > a').click(function(){$(".myInfo").css('left','-220px');$(".myInfo > h2").removeAttr('style');$(".myInfo > span").removeAttr('style');$(".myInfo > ul").removeAttr('style');});$('.footerTab').show().addClass("activeFooterTab");$('input[type="checkbox"]').each(function(){var $this=$(this);$this.wrap('<div class="checkBoxContainer" />');$this.on('click',function(){if($this.is(':checked')){$this.parent().addClass("checkActive");}else{$this.parent().removeClass("checkActive");}});if($this.is(':checked'))$this.parent().addClass("checkActive");});var $select=$('select');$select.on('change',function(){$(this).next('span').text($(this).val()?$(this).find('option:selected').text():$(this).find('option:first').text());});$select.on('keypress',function(){$(this).next('span').text($(this).val()?$(this).find('option:selected').text():$(this).find('option:first').text());});$('.customSelectContainer').each(function(){var $wrap=$(this);var spantext=$wrap.find('select').find(':selected').text();$wrap.find('span').text(spantext);});var myFavourites=localStorage.myFavourites?JSON.parse(localStorage.myFavourites):[];for(var i=0;i<=Math.min(myFavourites.length,8);i++){if(myFavourites[i]){$('.myInfo ul').append('<li><a href="'+myFavourites[i].uri+'">'+myFavourites[i].title.truncate(24)+'</a><p class="additionalInfoRemove" onclick="toggleMyFavourite(\''+myFavourites[i].uri+'\')">X</p></li>');}}
addActiveClassesOnFavouritesPanels(myFavourites);if(!myFavourites.length){showMyFavouritesEmptyNotification();$('.sideInfoActionBar').hide();}
$('.editableRichText').each(function(){$(this).find('a').each(function(){if($(this).attr('href')!==undefined){var file=$(this).attr('href').split('/').reverse()[0],ext=file.split('.').reverse()[0];if(ext=='pdf'){$(this).attr({"data-event-category":'download',"data-event-action":'click',"data-gtm":file});}}});});});function toggleMyFavourite(uri,thisTitle){uri=uri||window.location.pathname;var title=thisTitle.title||document.title.split('|')[0];var myFavourites=localStorage.myFavourites?JSON.parse(localStorage.myFavourites):[];var storedFavourite=findOne(myFavourites,'uri',uri);if(storedFavourite){var index=myFavourites.indexOf(storedFavourite);myFavourites.splice(index,1);localStorage.myFavourites=JSON.stringify(myFavourites);$($('.myInfo ul li')[index]).remove();if(myFavourites[0]){showMyFavouritesNotification('bookmarkRemovedNotification');}
else{showMyFavouritesEmptyNotification();$(".myInfo ul li").removeClass("sideInfoEdit");$(".additionalInfoRemove").hide();$('.sideInfoActionBar').hide();}}
else{myFavourites.unshift({uri:uri,title:title});localStorage.myFavourites=JSON.stringify(myFavourites);$('.myInfo ul').prepend('<li><a href="'+uri+'">'+title.truncate(24)+'</a><p class="additionalInfoRemove" onclick="toggleMyFavourite(\''+uri+'\')">X</p></li>');showMyFavouritesNotification('bookmarkSavedNotification');$('#myInfoSubTextRemove').show();}
addActiveClassesOnFavouritesPanels(myFavourites);slideOutMyFavouritesPanel();return false;}
function addActiveClassesOnFavouritesPanels(myFavourites){$('.additionalInfo').each(function(){var active=false;for(var i=0;i<myFavourites.length;i++){var uri=myFavourites[i].uri;var uriToCheck=$(this).find('a').attr('data-uritosave')||window.location.pathname;if(uri==uriToCheck){$(this).addClass('activeFind');$(this).find('a').addClass('activeAdd');active=true;}}
if(!active){$(this).removeClass('activeFind');$(this).find('a').removeClass('activeAdd');}});}
function showMyFavouritesEmptyNotification(){showMyFavouritesNotification('noBookmarksStoredNotification',true);}
function showMyFavouritesNotification(notification,leaveVisible){$('.sideInfoAlert').hide();$('.emptyBookmarks').hide();$('#'+notification).show();if(!leaveVisible){setTimeout(function(){$('#'+notification).hide();$(".myInfo").css('left','-220px');},6000);}}
function slideOutMyFavouritesPanel(){$(".myInfo").css('left','0px');$(".myInfo > h2").css('margin-left','0px');$(".myInfo > span").css('margin-left','0px');$(".myInfo > ul").css('margin-left','0px');}
function slideInMyFavouritesPanel(){$(".myInfo").css('left','-220px');$(".myInfo > h2").css('margin-left','0px');$(".myInfo > span").css('margin-left','0px');$(".myInfo > ul").css('margin-left','0px');}
function bindAccordion($wrapper){$wrapper.find('.accordionContent').hide();if(!$wrapper.find('.accordionWrapper').hasClass('loadAllClosed')){$wrapper.find('.accordionContent:first').show().parent().addClass('activeAccordion');}
$wrapper.find('.accordionHeading').on('click',function(){if($(this).parent().hasClass("activeAccordion")){$(this).parent().removeClass("activeAccordion");}else if($wrapper.find('.accordionWrapper').hasClass('allowAnyExpanded')){$(this).parent().addClass("activeAccordion");}else if(!$wrapper.find('.accordionWrapper').hasClass('allowAnyExpanded')){$wrapper.find(".activeAccordion").removeClass("activeAccordion");$(this).parent().toggleClass("activeAccordion");}
if(!$wrapper.find('.accordionWrapper').hasClass('allowAnyExpanded')){$wrapper.find('.accordionContent').slideUp('fast');}else if(!$(this).parent().hasClass("activeAccordion")){$(this).parent().find('.accordionContent').slideUp('fast');}
var $content=$(this).parent().find('.accordionContent');if(!$content.is(':visible')){$content.slideDown('fast',function(){$('html, body').animate({scrollTop:$(this).offset().top-200},500);})}});}
function bindFilesArchive($wrapper){$wrapper.find('.filesArchiveContent').hide();$wrapper.find('.filesArchiveHeading').on('click',function(){$wrapper.find('.filesArchiveContent').slideToggle('fast');});}
var slideElement;var slideElementOrigin,slideElementPosition;var sliderCount;var isotope=isotope||false;var container,offsetLeft,containerWidth;$(document).ready(function(){if(!$('.rangeSlider').length)return;if(isotope){window.historyPushed=false;if((typeof history!='undefined')&&history&&typeof window.addEventListener!='undefined'){window.addEventListener('popstate',function(){if(window.historyPushed)window.location.reload();})}}
var sliderPageUrl=window.location.href,isWaysToTransact=sliderPageUrl.indexOf("ways-to-transact")>=0?true:false;console.log(sliderPageUrl+" "+isWaysToTransact);if(isWaysToTransact){$('body').attr('data-slider-section','transact');$('.sliderList li a').removeClass('active');$('.sliderList li:nth-child(2) a').addClass('active');}
sliderCount=$('.sliderList li').length;sliderContainer=$('.sliderList').width();sliderKnob=$('.rangeKnob').width();slideElement=document.getElementById('slideElement');slideElement.onmousedown=slideElement.ontouchstart=startDrag;var filtersLoaded=[getLastTokenOfUrl(window.location.pathname)];var globaoneOneContainer=$(".collectionsContainer")
if(isotope&&!globaoneOneContainer.hasClass("globalOneLandingPage")){$('.sliderList li').on('click',function(){var $isotopeContainer=$('.isotopeContainer');if(window.location.pathname!=$(this).find('a').attr('href')){var uri;if(window.location.pathname.indexOf('global-one')!=-1){uri=$(this).find('a').attr('href').toLowerCase().split(' ').join('-');$isotopeContainer.isotope({filter:'.'+getLastTokenOfUrl(uri)});}
else{uri=$(this).find('a').attr('href');var filter=getLastTokenOfUrl(uri);if($('.liveEditWrapper').length||(navigator.appVersion.indexOf('MSIE 8')!=-1)){window.location=uri;return;}
if(filtersLoaded.indexOf(filter)==-1){$('#resultsLoader').load(uri,function(data,textStatus){if(textStatus=='success'){$isotopeContainer.isotope('insert',$(data));$isotopeContainer.isotope({filter:'.'+getLastTokenOfUrl(uri)});initializeToolIframes();filtersLoaded.push(filter);}});}
else{$isotopeContainer.isotope({filter:'.'+getLastTokenOfUrl(uri)});initializeToolIframes();}}}
$('.sliderList li a').removeClass('active');$(this).find('a').addClass('active');if(typeof history!='undefined'&&history.pushState&&($(this).find('a').attr('href')!=window.location.pathname)){history.pushState(null,null,$(this).find('a').attr('href'));window.historyPushed=true;}
var sectionText=$(this).find('a').text().toLowerCase().replace(/ /g,'-');if($('body').attr('data-slider-section')!=sectionText){$('body').attr('data-slider-section',sectionText);}
var $articleSearchForm=$('.articleSearchForm');if($articleSearchForm.length){(sectionText=='all'||sectionText=='themes')?$articleSearchForm.slideDown():$articleSearchForm.slideUp();}
$('.rangeKnob').stop().animate({left:calculateSliderPercentagePosition($(this).index(),sliderCount)+'%'},350);initializeToolIframes(getLastTokenOfUrl(uri));return false;});$('.rangeSlider').on('click',function(e){container=$('.rangeSlider');offsetLeft=container.offset().left;var knobLocation=e.pageX-offsetLeft;var knobPercent=((knobLocation-15)/container.width())*100;slideKnob(knobPercent);});$('#slideElement').on('click',function(){return false;})}
else{setBodyDataAttributeForURL();$('.rangeSlider').on('click',function(e){container=$('.rangeSlider');offsetLeft=container.offset().left;var knobLocation=e.pageX-offsetLeft;var knobPercent=((knobLocation-15)/container.width())*100;slideKnob(knobPercent,true);});}
moveSlideElementToUrlLocation();});function moveSlideElementToUrlLocation(){var selectedElementIndex=$('.sliderList .active').parent().index();var knobPercentage=calculateSliderPercentagePosition(selectedElementIndex);slideKnob(knobPercentage);}
function setBodyDataAttributeForURL(){var attribute=$('.sliderList').find('.active').text().toLowerCase().replace(/ /g,'-');if(attribute=="credit"&&window.location.pathname=="/global-one/credit/home-loan/tools"){attribute="credit-homeloan-tools";}
$('body').attr("data-slider-section",attribute);}
function loadBackground(){var bodyDataOption=$('body').attr('data-slider-section');$('.bodyBackground').fadeOut();if(bodyDataOption=='transact'){$('.bodyBackgroundBlue').fadeIn();$('.logo').addClass('whiteLogo');}
else if(bodyDataOption=='save'){$('.bodyBackgroundDarkBlue').fadeIn();$('.logo').addClass('whiteLogo');}
else if(bodyDataOption=='credit-homeloan-tools'){$('.bodyBackgroundOrange').fadeIn();$('.logo').addClass('whiteLogo');}
else if(bodyDataOption=='credit'){$('.bodyBackgroundRed').fadeIn();$('.logo').addClass('whiteLogo');}
else if(bodyDataOption=='ways-to-transact'){$('.bodyBackgroundCharcoal').fadeIn();$('.logo').addClass('whiteLogo');}
else{$('.bodyBackgroundDefault').fadeIn();$('.logo').removeClass('whiteLogo');}}
function startDrag(e){e=e||window.event;slideElementOrigin=getEventClientX(e);slideElementPosition=slideElement.offsetLeft;$('.siteWrapper').addClass('unselectable');if(e.type==='touchstart'){slideElement.onmousedown=null;slideElement.ontouchmove=moveDrag;slideElement.ontouchend=function(){var knobLocation=e.changedTouches[0].pageX-offsetLeft;var knobPercent=((knobLocation-15)/container.width())*100;slideElement.ontouchmove=null;slideElement.ontouchend=null;slideElement.ontouchstart=startDrag;slideKnob(knobPercent);}}else{document.onmousemove=moveDrag;document.onmouseup=dragEnd;}}
function moveDrag(e){e=e||window.event;var currentPos=getEventClientX(e);var deltaX=currentPos[0]-slideElementOrigin[0];if(currentPos[0]<getSliderLeft()||currentPos[0]>getSliderRight()){dragEnd();}
slideElement.style.left=(slideElementPosition+deltaX)+'px';return false;}
function dragEnd(e){e=e||window.event;$('.siteWrapper').removeClass('unselectable');e=e||{pageX:slideElementOrigin[0]};document.onmousemove=null;container=$('.rangeSlider');offsetLeft=container.offset().left;var knobLocation=e.pageX-offsetLeft;var knobPercent=((knobLocation-15)/container.width())*100;document.onmousemove=null;document.onmouseup=null;slideKnob(knobPercent,true);}
function slideKnob(knobPercent,triggerLink){container=$('.rangeSlider');offsetLeft=container.offset().left;containerWidth=offsetLeft+container.width();for(var i=0;i<=sliderCount;i++){if((knobPercent>calculateSliderBoundaryPercentagePosition(i))&&(knobPercent<calculateSliderBoundaryPercentagePosition(i+1))){if(isotope){$('.sliderList li.'+(parseInt(i)+1)).trigger('click');return;}
else{if(triggerLink&&!$('.sliderList li.'+(parseInt(i)+1)+' a').hasClass('selected')){window.location.href=$('.sliderList li.'+(parseInt(i)+1)+' a').attr('href');return;}
else{$('.rangeKnob').stop().animate({left:calculateSliderPercentagePosition(i)+'%'},350);}}}}}
function calculateSliderPercentagePosition(index){var sliderSetMiddle=((sliderContainer/sliderCount)*index)+((sliderContainer/sliderCount)/2)
var sliderPercentage=(sliderSetMiddle/sliderContainer)*100
var rangeKnobOffset=sliderPercentage-(((sliderKnob/sliderContainer)*100)/2)
$('.rangeKnob').stop().animate({left:rangeKnobOffset+'%'},0);console.log(rangeKnobOffset)}
function calculateSliderBoundaryPercentagePosition(index){if(sliderCount>3){return 100/sliderCount*index-(2-(sliderCount-8.5)/10);}
else if(sliderCount<=3){return 100/sliderCount*index-(2-(sliderCount-7.5)/10);}
else{return 100/5*index-4.6;}}
function getEventClientX(e){var coors=[];try{if(e.touches&&e.touches.length){coors[0]=e.touches[0].clientX;}else{coors[0]=e.clientX;}}
catch(e){coors[0]=e.clientX;}
return coors;}
function getSliderLeft(){return $('.collectionSlider').offset().left+$(slideElement).width()/2;}
function getSliderRight(){return $('.collectionSlider').offset().left+$('.collectionSlider').width()-$(slideElement).width()/2;}